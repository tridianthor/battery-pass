<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  {% load bootstrap5 %}
  {% bootstrap_css %}
  {% bootstrap_javascript %}
  {% load bootstrap_icons %}
</head>

{% include "nav/nav.html" %}

<div class="container mt-5">
  <h1>Due Diligence</h1>
  <p>Due diligence list</p>
  <div class="d-flex">
    <a class="btn btn-primary d-flex align-items-center" href="form/">
      <i class="me-2">{% bs_icon 'plus-lg' size='1em' %}</i>
      Create New</a>
  </div>
  <div class="card my-3">
    <div class="card-body">
      <ul class="mt-5 list-unstyled">
        {% for item in data.object_list %}
          <h5 class="card-title">Due Diligence {{item.insert_date}}</h5>
          <small class="text-muted">Last updated {{item.update_date}}</small>
          <div class="d-flex justify-content-start mb-5 mt-3 gap-2">
            <a href="{% url 'duediligence_pdf' folder=paths.diligence_report_path filename=item.supply_chain_due_diligence_report %}" class="btn btn-info d-flex align-items-center">
              <i class="me-2">{% bs_icon 'file-earmark-text-fill' size='1em' %}</i>
              View Report
            </a>
            <a href="{% url 'duediligence_pdf' folder=paths.third_party_assurances_path filename=item.third_party_assurances %}" class="btn btn-info d-flex align-items-center">
              <i class="me-2">{% bs_icon 'file-earmark-text-fill' size='1em' %}</i>
              View Third Party Assurances
            </a>
            <a class="btn btn-warning d-flex align-items-center" href="form/{{item.id}}">
              <i class="me-2">{% bs_icon 'pencil-square' size='1em' %}</i>
              Update</a>
            <a class="btn btn-danger d-flex align-items-center" href="delete/{{item.id}}">
              <i class="me-2">{% bs_icon 'trash-fill' size='1em' %}</i>
              Delete</a>
          </div>
        {% endfor %}
      </ul>
    </div>
  </div>
  <nav aria-label="Page navigation">
    <ul class="pagination">
        {% if data.has_previous %}
        <li class="page-item">
            <a class="page-link" href="?page={{ data.previous_page_number }}">Previous</a>
        </li>
        {% endif %}
        <li class="page-item active"><a class="page-link" href="#">{{ data.number }}</a></li>
        {% if data.has_next %}
        <li class="page-item">
            <a class="page-link" href="?page={{ data.next_page_number }}">Next</a>
        </li>
        {% endif %}
    </ul>
  </nav>
</div>